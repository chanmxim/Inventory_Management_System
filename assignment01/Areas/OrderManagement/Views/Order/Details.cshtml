@model assignment01.Areas.OrderManagement.Models.Order

@{
    ViewBag.Title = "Order Details";
    Layout = "_Layout";
    int counter = 1;
    double grandTotal = 0;
}

<h2>@ViewBag.Title</h2>

<table class="table table-striped table-hover">
    <thead>
    <tr>
        <th scope="col">No.</th>
        <th scope="col">Name</th>
        <th scope="col">Price</th>
        <th scope="col">Quantity</th>
        <th scope="col">Total</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var orderItem in Model.OrderItems)
    {
        var itemTotal = orderItem.CalculateTotal();
        grandTotal += itemTotal;
        <tr>
            <th scope="row" class="col-1">@counter</th>
            <td class="col-2">@orderItem.Product.ProductName</td>
            <td class="col-1">@Html.DisplayFor(oi => orderItem.OrderItemPrice, "Price")</td>
            <td class="col-1">@orderItem.OrderItemQuantity</td>
            <td class="col-1">$@itemTotal.ToString("F2")</td>
        </tr>
        counter++;
    }
    <tr class="table-info">
        <th colspan="4" class="text-right"><strong>Grand Total: </strong></th>
        <td class="col-1"><strong>$@grandTotal.ToString("F2")</strong></td>
    </tr>
    </tbody>
    
</table>
<a asp-action="Index" class="btn btn-primary">Go Back</a>